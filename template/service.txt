package {{.PackageName}}

import (
	"context"

	"github.com/mkawserm/abesh/iface"
	"github.com/mkawserm/abesh/model"
	"github.com/mkawserm/abesh/registry"
)

type {{.StructName}} struct {
}

func (s {{.StructName}}) Name() string {
	return Name
}

func (s {{.StructName}}) Version() string {
	return Version
}

func (s {{.StructName}}) Category() string {
	return Category
}

func (s {{.StructName}}) ContractId() string {
	return ContractId
}

func (s {{.StructName}}) New() iface.ICapability {
	return &Service{}
}

func (s {{.StructName}}) Serve(_ context.Context, event *model.Event) (*model.Event, error) {
	return model.GenerateOutputEvent(
		event.Metadata,
		s.ContractId(),
		"OK",
		200,
		"application/json",
		[]byte("{}"),
	), nil

}

func init() {
	registry.GlobalRegistry().AddCapability(&{{.StructName}}{})
}
